<!DOCTYPE html>
<html lang="en">
<head>
  <!-- set `maximum-scale` for some compatibility issues -->
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
  <meta name="keywords" content="elelive">
  <meta name="description" content="new years">
  <title>小象直播</title>
  <script>
    window.externalEnvObj = {}
    var url = "/env.json"/*json文件url，本地的就写本地的位置，如果是服务器的就写服务器的路径*/
    var XhrObj = new XMLHttpRequest();
    XhrObj.open("get", url, false);/*设置请求方法与路径*/
    XhrObj.onreadystatechange = function () {/*XHR对象获取到返回信息后执行*/
      if (XhrObj.status == 200) {/*返回状态为200，即为数据获取成功*/
        var json = JSON.parse(XhrObj.responseText);
        console.log('环境变量内容');
        console.log(json)
        window.externalEnvObj = json
      } else {
        console.log('获取环境变量失败')
      }
    }
    XhrObj.send(null);/*不发送数据到服务器*/

    ROOT_BASE = window.externalEnvObj['X_ROOT_BASE']
    HTTP_BASE = window.externalEnvObj['X_HTTP_BASE']

    console.log('ROOT_BASE--' + ROOT_BASE)
    console.log('HTTP_BASE--' + HTTP_BASE)
  </script>
</head>
<body>
<div id="app"></div>
<script type="module" src="./index.tsx"></script>
</body>
</html>

